Author: *Daniele Zambon*,  
Affiliation: *Universit√† della Svizzera italiana*  
eMail: `daniele.zambon@usi.ch`  
Last Update: *31/01/2020*  

# Change-Point Methods on a Sequence of Graphs 

```
@article{zambon2019change,
  title={Change-Point Methods on a Sequence of Graphs},
  author={Daniele Zambon, Cesare Alippi and Lorenzo Livi},
  year={2019},
  doi={10.1109/TSP.2019.2953596},
  journal={IEEE Transactions on Signal Processing},
}
```


## Description

* `run_simulation.py` is the main script that runs a repeated experiement (with the same settings). It adopts the framework `cdg.simulations` in [cdg](https://github.com/dzambon/cdg). 
* `settings.py` contains info related to the datasets and declares the predefined experimental settings.
* `config.py` define parameters like: seed, folder of the results and significance level of the tests.
* `red_button.py` is a wrapper that allows to run multiple experiments.


## Run experiments

### Get the data

Delaunay graphs can be directly generated by `cdg`. The procedure is the following.
Check in the file `settings.py` that every folder is correct; if a data set needs to be created, 
then make sure that the associated folder has been already created.

Then generate and precompute distance and kernel matrices
```bash
python red_button.py --generate --precompute
```

Data is also available here: 
[delaunay](https://www.inf.usi.ch/phd/zambon/dl/datasets/tsp19/data200105_delaunay.zip),
[iam](https://www.inf.usi.ch/phd/zambon/dl/datasets/tsp19/data200105_iam.zip),
[kaggle-seizure](https://www.inf.usi.ch/phd/zambon/dl/datasets/tsp19/data200105_kaggle-seizure.zip).


### Entire experimental campaign


Run the actual experiments
```bash
python red_button.py --delaunay
python red_button.py --iam
python red_button.py --kaggle
python red_button.py --supmat
```

fetch results
```bash
find $PWD/<prefix>*.zip > exp_list.txt
python red_button.py --readfrom exp_list.txt
```

Generate some of the figures
```bash
python red_button.py --figures
```


### Single experiment

Each experiment has its own ID. To check the available ones
```bash
python run_simulation.py --help
```
For more details on what each ID corresponds to, please look at `setting.py` file.

Once selected the ID, say `del_ratio`, run the following command with the parameters of your choice
```bash
python run_simulation.py --numSimulations 100 --seed 20190512 --noJobs 15 --test mucpm --experiment del_ratio
```
